const translations = {
    es: {
        // Navegación
        "nav.home": "Inicio",
        "nav.about": "Sobre mí",
        "nav.blog": "Blog",
        "nav.languages": "Idiomas",
        "nav.join": "Únete ahora",
        
        // Carrusel
        "carousel.title1": "Conversaciones en vivo con un profesor nativo",
        "carousel.heading": "Aprende español ahora",
        "carousel.text": "Explora el fascinante mundo del idioma español! Desde principiantes hasta avanzados, ofrecemos lecciones diseñadas para ti. Sumérgete en la cultura latinoamericana y desata tu potencial lingüístico.",
        "carousel.highlight": "¡Habla, lee y escucha de una manera divertida y efectiva hoy!",
        "carousel.button1": "Más información",
        "carousel.button2": "Únete ahora",
        
        // Servicios
        "services.title": "Servicios",
        "services.heading": "Lo que ofrezco",
        "services.reading.title": "Material de lectura",
        "services.reading.text": "Textos seleccionados para cada nivel",
        "services.online.title": "Clases en línea",
        "services.online.text": "Desde cualquier lugar del mundo",
        "services.culture.title": "Inmersión cultural",
        "services.culture.text": "Aprende sobre nuestra cultura",
        "services.music.title": "Música y diversión",
        "services.music.text": "Aprende con canciones y juegos",
        
        // Sobre mí
        "about.title": "Sobre mí",
        "about.question": "¿Quién soy yo?",
        "about.text1": "Me llamo Carlos Reges, soy profesor de Lengua Española y Literatura. He sido docente por más de 15 años y deseo enseñarte mi idioma a través de ejercicios prácticos, conversaciones amenas y otras actividades que te ayudarán a aprender y mejorar tu aprendizaje.",
        "about.skill1": "Profesor de Lengua",
        "about.skill2": "Amante de la lectura",
        "about.skill3": "Corrector ortográfico",
        "about.skill4": "Excelente cocinero",
        "about.skill5": "Innovador y empírico",
        "about.skill6": "Dispuesto a ayudarte",
        "about.button": "Más sobre mí",
        "about.subtitle": "Mi Historia",
        "about.greeting": "¡Hola! Soy Carlos",
        "about.description": "Como docente apasionado de Lengua y Literatura, llevo más de 15 años dedicándome a compartir la riqueza del idioma español. Mi experiencia abarca desde la enseñanza de los fundamentos gramaticales hasta las complejidades de la redacción creativa y profesional.",
        "about.methodology": "Mi metodología se basa en tres pilares fundamentales:",
        "about.approach": "Me apasiona innovar en la enseñanza, implementando constantemente nuevas estrategias didácticas que garanticen un aprendizaje efectivo y duradero. Creo firmemente en adaptar las metodologías a cada estudiante, asegurando que el conocimiento se afiance de manera natural y permanente.",
        "about.pillar1": "Dominio gramatical sólido",
        "about.pillar2": "Excelencia en ortografía",
        "about.pillar3": "Habilidades avanzadas de redacción",
        
        // Categorías
        "categories.title": "Actividades",
        "categories.heading": "¿Cómo aprenderás español?",
        "categories.item1": "Libros y relatos cortos",
        "categories.item2": "Conversaciones en vivo",
        "categories.item3": "Ejercicios interactivos",
        "categories.item4": "Videos tutoriales",
        
        // Cursos
        "courses.title": "Diferentes niveles",
        "courses.heading": "Categoría de cursos",
        "courses.beginner": "Español para Principiantes (A1-A2)",
        "courses.intermediate": "Español Intermedio (B1-B2)",
        "courses.advanced": "Español Avanzado (C1)",
        "courses.more": "Más información",
        "courses.join": "Únete ahora",
        "courses.students": "Alumnos",
        
        // Contacto
        "contact.title": "Contacto",
        "contact.heading": "Realiza tu consulta",
        "contact.location": "Ubicación",
        "contact.phone": "Teléfono",
        "contact.name": "Tu nombre",
        "contact.email": "Tu e-mail",
        "contact.subject": "Tema",
        "contact.message": "Mensaje",
        "contact.send": "Enviar",
        "contact.subtitle": "Contacto",
        "contact.getintouch": "Ponte en contacto",
        "contact.description": "¿Tienes dudas sobre las clases? ¿Quieres saber más sobre los cursos? Completa el formulario y me pondré en contacto contigo lo antes posible.",
        
        // Footer
        "footer.links": "Enlaces importantes",
        "footer.contact": "Contacto",
        "footer.rights": "Todos los derechos reservados",
        "footer.designed": "Diseñado por",
        "footer.cookies": "Cookies",
        "footer.help": "Ayuda",
        "footer.faqs": "Preguntas frecuentes",
        "footer.contact.text": "Para consultas, por favor utiliza el formulario de contacto arriba.",

        exam: {
            title: "Autoevaluación",
            breadcrumb: "Autoevaluación",
            start: "Comenzar evaluación",
            next: "Siguiente pregunta",
            finish: "Finalizar quiz",
            loading: "Cargando preguntas..."
        },
        // Las explicaciones sí se traducen
        explanations: {
            ser_estar: "La diferencia principal entre 'ser' y 'estar' es...",
            modismos: "Los modismos son expresiones propias del idioma que..."
        },
        theme: {
            light: "Modo claro",
            dark: "Modo oscuro",
            toggle: "Cambiar tema",
            message_dark: "¡Chocolate oscuro activado! 🍫",
            message_light: "¡Chocolate blanco activado! 🍬"
        },
        // Traducciones para el Blog
        "blog.title": "Blog",
        "blog.subtitle": "Artículos",
        "blog.heading": "Tips y recursos para aprender español",
        "blog.grammar": "Gramática",
        "blog.vocabulary": "Vocabulario",
        "blog.culture": "Cultura",
        "blog.tips": "Consejos",
        "blog.resources": "Recursos",
        "blog.literature": "Literatura",
        "blog.readmore": "Leer más",
        "blog.article1.title": "Errores comunes al usar los tiempos verbales",
        "blog.article1.summary": "Descubre los errores más frecuentes que cometen los estudiantes al usar los tiempos verbales en español y cómo evitarlos.",
        "blog.article2.title": "10 expresiones argentinas que debes conocer",
        "blog.article2.summary": "Aprende algunas de las expresiones más usadas en Argentina y sorprende a tus amigos hispanohablantes con tu conocimiento del lunfardo.",
        "blog.article3.title": "Festividades hispanas que no te puedes perder",
        "blog.article3.summary": "Descubre las festividades más importantes del mundo hispanohablante y cómo estas celebraciones pueden ayudarte a entender mejor la cultura.",
        "blog.article4.title": "5 hábitos para mejorar tu fluidez en español",
        "blog.article4.summary": "Incorpora estos cinco hábitos a tu rutina diaria y notarás una mejora significativa en tu fluidez al hablar español.",
        "blog.article5.title": "Los mejores podcasts para estudiantes de español",
        "blog.article5.summary": "Una selección de podcasts en español para todos los niveles que te ayudarán a mejorar tu comprensión auditiva mientras aprendes sobre temas interesantes.",
        "blog.article6.title": "Lecturas recomendadas para estudiantes de nivel intermedio",
        "blog.article6.summary": "Descubre una lista de libros y cuentos cortos en español que son perfectos para estudiantes de nivel intermedio y que te ayudarán a enriquecer tu vocabulario.",
        "footer.courses": "Cursos",
        "footer.testimonials": "Testimonios"
    },
    en: {
        // Navigation
        "nav.home": "Home",
        "nav.about": "About me",
        "nav.blog": "Blog",
        "nav.languages": "Languages",
        "nav.join": "Join Now",
        
        // Carousel
        "carousel.title1": "Live conversations with a native teacher",
        "carousel.heading": "Learn Spanish now",
        "carousel.text": "Explore the fascinating world of Spanish language! From beginners to advanced, we offer lessons designed for you. Immerse yourself in Latin American culture and unlock your linguistic potential.",
        "carousel.highlight": "Speak, read, and listen in a fun and effective way today!",
        "carousel.button1": "Read More",
        "carousel.button2": "Join Now",
        
        // Services
        "services.title": "Services",
        "services.heading": "What I Offer",
        "services.reading.title": "Reading Material",
        "services.reading.text": "Selected texts for each level",
        "services.online.title": "Online Classes",
        "services.online.text": "From anywhere in the world",
        "services.culture.title": "Cultural Immersion",
        "services.culture.text": "Learn about our culture",
        "services.music.title": "Music and Fun",
        "services.music.text": "Learn with songs and games",
        
        // About
        "about.title": "About me",
        "about.question": "Who am I?",
        "about.text1": "My name is Carlos Reges, and I'm a teacher of Spanish Language and Literature. I've been an educator for more than 15 years, and I want to teach you my language through practical exercises, enjoyable conversations, and other activities that will help you learn and improve your learning.",
        "about.skill1": "Language Teacher",
        "about.skill2": "Book Lover",
        "about.skill3": "Proofreader",
        "about.skill4": "Excellent Cook",
        "about.skill5": "Innovative and Empirical",
        "about.skill6": "Ready to Help You",
        "about.button": "Read More",
        "about.subtitle": "My Story",
        "about.greeting": "Hi! I'm Carlos",
        "about.description": "As a passionate Language and Literature teacher, I have spent over 15 years sharing the richness of the Spanish language. My experience ranges from teaching grammatical foundations to the complexities of creative and professional writing.",
        "about.methodology": "My methodology is based on three fundamental pillars:",
        "about.approach": "I am passionate about innovating in teaching, constantly implementing new didactic strategies that guarantee effective and lasting learning. I firmly believe in adapting methodologies to each student, ensuring that knowledge is consolidated naturally and permanently.",
        "about.pillar1": "Solid grammatical mastery",
        "about.pillar2": "Excellence in spelling",
        "about.pillar3": "Advanced writing skills",
        
        // Categories
        "categories.title": "Activities",
        "categories.heading": "How will you learn Spanish?",
        "categories.item1": "Books and Short Stories",
        "categories.item2": "Live Conversations",
        "categories.item3": "Interactive Exercises",
        "categories.item4": "Tutorial Videos",
        
        // Courses
        "courses.title": "Different Levels",
        "courses.heading": "Course Categories",
        "courses.beginner": "Spanish for Beginners (A1-A2)",
        "courses.intermediate": "Intermediate Spanish (B1-B2)",
        "courses.advanced": "Advanced Spanish (C1)",
        "courses.more": "Read More",
        "courses.join": "Join Now",
        "courses.students": "Students",
        
        // Contact
        "contact.title": "Contact",
        "contact.heading": "Get in Touch",
        "contact.location": "Location",
        "contact.phone": "Phone",
        "contact.name": "Your Name",
        "contact.email": "Your Email",
        "contact.subject": "Subject",
        "contact.message": "Message",
        "contact.send": "Send Message",
        "contact.subtitle": "Contact",
        "contact.getintouch": "Get in touch",
        "contact.description": "Do you have questions about the classes? Want to know more about the courses? Fill out the form and I'll get back to you as soon as possible.",
        
        // Footer
        "footer.links": "Important Links",
        "footer.contact": "Contact",
        "footer.rights": "All Rights Reserved",
        "footer.designed": "Designed by",
        "footer.cookies": "Cookies",
        "footer.help": "Help",
        "footer.faqs": "FAQs",
        "footer.contact.text": "For inquiries, please use the contact form above.",

        exam: {
            title: "Self-Assessment",
            breadcrumb: "Self-Assessment",
            start: "Start assessment",
            next: "Next question",
            finish: "Finish quiz",
            loading: "Loading questions..."
        },
        theme: {
            light: "Light mode",
            dark: "Dark mode",
            toggle: "Toggle theme",
            message_dark: "Dark chocolate activated! 🍫",
            message_light: "White chocolate activated! 🍬"
        },
        // Traducciones para el Blog
        "blog.title": "Blog",
        "blog.subtitle": "Articles",
        "blog.heading": "Tips and resources for learning Spanish",
        "blog.grammar": "Grammar",
        "blog.vocabulary": "Vocabulary",
        "blog.culture": "Culture",
        "blog.tips": "Tips",
        "blog.resources": "Resources",
        "blog.literature": "Literature",
        "blog.readmore": "Read more",
        "blog.article1.title": "Common mistakes when using verb tenses",
        "blog.article1.summary": "Discover the most frequent mistakes students make when using verb tenses in Spanish and how to avoid them.",
        "blog.article2.title": "10 Argentine expressions you should know",
        "blog.article2.summary": "Learn some of the most used expressions in Argentina and surprise your Spanish-speaking friends with your knowledge of lunfardo.",
        "blog.article3.title": "Hispanic festivities you can't miss",
        "blog.article3.summary": "Discover the most important festivities in the Spanish-speaking world and how these celebrations can help you better understand the culture.",
        "blog.article4.title": "5 habits to improve your fluency in Spanish",
        "blog.article4.summary": "Incorporate these five habits into your daily routine and you'll notice a significant improvement in your fluency when speaking Spanish.",
        "blog.article5.title": "The best podcasts for Spanish students",
        "blog.article5.summary": "A selection of Spanish podcasts for all levels that will help you improve your listening comprehension while learning about interesting topics.",
        "blog.article6.title": "Recommended readings for intermediate students",
        "blog.article6.summary": "Discover a list of books and short stories in Spanish that are perfect for intermediate level students and that will help you enrich your vocabulary.",
        "footer.courses": "Courses",
        "footer.testimonials": "Testimonials"
    },
    pt: {
        // Navegação
        "nav.home": "Início",
        "nav.about": "Sobre mim",
        "nav.blog": "Blog",
        "nav.languages": "Idiomas",
        "nav.join": "Participe agora",
        
        // Carrossel
        "carousel.title1": "Conversas ao vivo com um professor nativo",
        "carousel.heading": "Aprenda Espanhol agora",
        "carousel.text": "Explore o fascinante mundo da língua espanhola! Desde iniciantes até avançados, oferecemos aulas projetadas para você. Mergulhe na cultura latino-americana e liberte seu potencial linguístico.",
        "carousel.highlight": "Fale, leia e escute de uma forma divertida e eficaz hoje!",
        "carousel.button1": "Saiba mais",
        "carousel.button2": "Participe agora",
        
        // Serviços
        "services.title": "Serviços",
        "services.heading": "O que ofereço",
        "services.reading.title": "Material de leitura",
        "services.reading.text": "Textos selecionados para cada nível",
        "services.online.title": "Aulas online",
        "services.online.text": "De qualquer lugar do mundo",
        "services.culture.title": "Imersão cultural",
        "services.culture.text": "Aprenda sobre nossa cultura",
        "services.music.title": "Música e diversão",
        "services.music.text": "Aprenda com músicas e jogos",
        
        // Sobre
        "about.title": "Sobre mim",
        "about.question": "Quem sou eu?",
        "about.text1": "Meu nome é Carlos Reges, e sou professor de Língua Espanhola e Literatura. Sou educador há mais de 15 anos e quero te ensinar meu idioma através de exercícios práticos, conversas agradáveis e outras atividades que ajudarão você a aprender e melhorar seu aprendizado.",
        "about.skill1": "Professor de Língua",
        "about.skill2": "Amante da leitura",
        "about.skill3": "Corretor ortográfico",
        "about.skill4": "Excelente cozinheiro",
        "about.skill5": "Inovador e empírico",
        "about.skill6": "Disposto a ajudá-lo",
        "about.button": "Saiba mais",
        "about.subtitle": "Minha História",
        "about.greeting": "Olá! Sou o Carlos",
        "about.description": "Como professor apaixonado de Língua e Literatura, dedico-me há mais de 15 anos a compartilhar a riqueza do idioma espanhol. Minha experiência abrange desde o ensino dos fundamentos gramaticais até as complexidades da redação criativa e profissional.",
        "about.methodology": "Minha metodologia é baseada em três pilares fundamentais:",
        "about.approach": "Sou apaixonado por inovar no ensino, implementando constantemente novas estratégias didáticas que garantam um aprendizado efetivo e duradouro. Acredito firmemente em adaptar as metodologias a cada aluno, garantindo que o conhecimento seja consolidado de forma natural e permanente.",
        "about.pillar1": "Domínio gramatical sólido",
        "about.pillar2": "Excelência em ortografia",
        "about.pillar3": "Habilidades avançadas de redação",
        
        // Categorias
        "categories.title": "Atividades",
        "categories.heading": "Como você vai aprender Espanhol?",
        "categories.item1": "Livros e contos curtos",
        "categories.item2": "Conversas ao vivo",
        "categories.item3": "Exercícios interativos",
        "categories.item4": "Vídeos tutoriais",
        
        // Cursos
        "courses.title": "Diferentes níveis",
        "courses.heading": "Categorias de cursos",
        "courses.beginner": "Espanhol para Iniciantes (A1-A2)",
        "courses.intermediate": "Espanhol Intermediário (B1-B2)",
        "courses.advanced": "Espanhol Avançado (C1)",
        "courses.more": "Saiba mais",
        "courses.join": "Participe agora",
        "courses.students": "Alunos",
        
        // Contato
        "contact.title": "Contato",
        "contact.heading": "Entre em contato",
        "contact.location": "Localização",
        "contact.phone": "Telefone",
        "contact.name": "Seu nome",
        "contact.email": "Seu e-mail",
        "contact.subject": "Assunto",
        "contact.message": "Mensagem",
        "contact.send": "Enviar mensagem",
        "contact.subtitle": "Contato",
        "contact.getintouch": "Entre em contato",
        "contact.description": "Tem dúvidas sobre as aulas? Quer saber mais sobre os cursos? Preencha o formulário e entrarei em contato o mais breve possível.",
        
        // Rodapé
        "footer.links": "Links Importantes",
        "footer.contact": "Contato",
        "footer.rights": "Todos os direitos reservados",
        "footer.designed": "Projetado por",
        "footer.cookies": "Cookies",
        "footer.help": "Ajuda",
        "footer.faqs": "Perguntas Frequentes",
        "footer.contact.text": "Para consultas, use o formulário de contato acima.",

        exam: {
            title: "Autoavaliação",
            breadcrumb: "Autoavaliação",
            start: "Iniciar avaliação",
            next: "Próxima pergunta",
            finish: "Finalizar quiz",
            loading: "Carregando perguntas..."
        },
        theme: {
            light: "Modo claro",
            dark: "Modo escuro",
            toggle: "Mudar tema",
            message_dark: "Chocolate escuro ativado! 🍫",
            message_light: "Chocolate branco ativado! 🍬"
        },
        // Traducciones para el Blog
        "blog.title": "Blog",
        "blog.subtitle": "Artigos",
        "blog.heading": "Dicas e recursos para aprender espanhol",
        "blog.grammar": "Gramática",
        "blog.vocabulary": "Vocabulário",
        "blog.culture": "Cultura",
        "blog.tips": "Conselhos",
        "blog.resources": "Recursos",
        "blog.literature": "Literatura",
        "blog.readmore": "Leia mais",
        "blog.article1.title": "Erros comuns ao usar os tempos verbais",
        "blog.article1.summary": "Descubra os erros mais frequentes que os alunos cometem ao usar os tempos verbais em espanhol e como evitá-los.",
        "blog.article2.title": "10 expressões argentinas que você deve conhecer",
        "blog.article2.summary": "Aprenda algumas das expressões mais usadas na Argentina e surpreenda seus amigos que falam espanhol com seu conhecimento do lunfardo.",
        "blog.article3.title": "Festividades hispânicas que você não pode perder",
        "blog.article3.summary": "Descubra as festividades mais importantes do mundo hispânico e como essas celebrações podem ajudá-lo a entender melhor a cultura.",
        "blog.article4.title": "5 hábitos para melhorar sua fluência em espanhol",
        "blog.article4.summary": "Incorpore estes cinco hábitos em sua rotina diária e você notará uma melhoria significativa em sua fluência ao falar espanhol.",
        "blog.article5.title": "Os melhores podcasts para estudantes de espanhol",
        "blog.article5.summary": "Uma seleção de podcasts em espanhol para todos os níveis que o ajudarão a melhorar sua compreensão auditiva enquanto aprende sobre tópicos interessantes.",
        "blog.article6.title": "Leituras recomendadas para estudantes de nível intermediário",
        "blog.article6.summary": "Descubra uma lista de livros e contos curtos em espanhol que são perfeitos para estudantes de nível intermediário e que o ajudarão a enriquecer seu vocabulário.",
        "footer.courses": "Cursos",
        "footer.testimonials": "Depoimentos"
    }
};

function changeLanguage(lang) {
    // Guardar el idioma seleccionado en localStorage
    localStorage.setItem('selectedLanguage', lang);
    
    // Actualizar la clase activa en el menú
    document.querySelectorAll('.language-option').forEach(option => {
        option.classList.remove('active');
        if (option.getAttribute('data-lang') === lang) {
            option.classList.add('active');
        }
    });

    // Actualizar todos los elementos con atributo data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });
}

// Cargar el idioma guardado al cargar la página
document.addEventListener('DOMContentLoaded', () => {
    const savedLanguage = localStorage.getItem('selectedLanguage') || 'es';
    changeLanguage(savedLanguage);
});

// Separamos las preguntas en su propio objeto
const quizQuestions = [
    {
        id: 1,
        category: "conjugación",
        difficulty: "básico",
        question: "Completa: 'Yo _____ español todos los días.' (hablar)",
        options: ["hablo", "hablas", "habla", "hablan"],
        correct: 0,
        explanation: "Primera persona singular del presente: yo hablo"
    },
    // ... resto de las preguntas ...
]; 